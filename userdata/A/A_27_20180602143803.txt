if(detect(FORWARD(), OBJECT.WALL)) {
    if(detect(RIGHT(), OBJECT.WALL)) {
        draw();
        if(detect(LEFT(), OBJECT.WALL)) {
            move(BACKWARD());
        } else {
            move(LEFT());
        }
    }  else {
        move(RIGHT());
    }
} else if(detect(RIGHT(), OBJECT.WALL)) {
    move(FORWARD());
} else {
    move(RIGHT());
}